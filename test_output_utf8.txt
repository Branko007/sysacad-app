
> sysacad-app@1.0.0 test
> node --experimental-vm-modules node_modules/jest/bin/jest.js src/tests/routes/facultades.routes.test.js

  console.log
    [dotenv@17.2.1] injecting env (0) from .env -- tip: ­ƒôí version env with Radar: https://dotenvx.com/radar

      at _log (node_modules/dotenv/lib/main.js:139:11)

node.exe : (node:90684) 
ExperimentalWarning: VM Modules 
is an experimental feature and 
might change at any time
En línea: 1 Carácter: 1
+ & "C:\Program 
Files\nodejs/node.exe" 
"C:\Program Files\nodejs/node_mo 
...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~
    + CategoryInfo          : No 
   tSpecified: ((node:90684) Ex  
  ...nge at any time:String) [   
 ], RemoteException
    + FullyQualifiedErrorId : Na 
   tiveCommandError
 
(Use `node --trace-warnings ...` 
to show where the warning was 
created)
FAIL src/tests/routes/facultades.
routes.test.js
  Facultades Routes
    ├ù GET /facultades devuelve 
lista (46 ms)
    ├ù GET /facultades/:id 
devuelve facultad si existe (8 
ms)
    ├ù GET /facultades/:id 
devuelve 404 si no existe (5 ms)
    ├ù POST /facultades crea 
facultad valida (18 ms)
    ÔêÜ POST /facultades falla 
si falta nombre (validacion) (5 
ms)
    ├ù POST /facultades falla si 
nombre duplicado (5 ms)
    ├ù PUT /facultades/:id 
actualiza correcto (1 ms)
    ├ù DELETE /facultades/:id 
elimina correcto (6 ms)
    ├ù DELETE /facultades/:id 
404 si no existe (4 ms)

  ÔùÅ Facultades Routes ÔÇ║ GET 
/facultades devuelve lista

    
expect(received).toBe(expected) 
// Object.is equality

    Expected: 200
    Received: 500

    [0m [90m 44 |[39m
     [90m 45 |[39m         
[36mconst[39m res [33m=[39m 
[36mawait[39m request(app)[33m
.[39m[36mget[39m([32m'/facult
ades'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 46 
|[39m         expect(res[33m.[
39mstatus)[33m.[39mtoBe([35m20
0[39m)[33m;[39m
     [90m    |[39m             
               
[31m[1m^[22m[39m
     [90m 47 |[39m         expe
ct(res[33m.[39mbody)[33m.[39m
toEqual(mockData)[33m;[39m
     [90m 48 |[39m     
})[33m;[39m
     [90m 49 |[39m[0m

      at Object.<anonymous> (src/
tests/routes/facultades.routes.te
st.js:46:28)

  ÔùÅ Facultades Routes ÔÇ║ GET 
/facultades/:id devuelve 
facultad si existe

    
expect(received).toBe(expected) 
// Object.is equality

    Expected: 200
    Received: 500

    [0m [90m 53 |[39m
     [90m 54 |[39m         
[36mconst[39m res [33m=[39m 
[36mawait[39m request(app)[33m
.[39m[36mget[39m([32m'/facult
ades/1'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 55 
|[39m         expect(res[33m.[
39mstatus)[33m.[39mtoBe([35m20
0[39m)[33m;[39m
     [90m    |[39m             
               
[31m[1m^[22m[39m
     [90m 56 |[39m         expe
ct(res[33m.[39mbody)[33m.[39m
toEqual({ id[33m:[39m 
[35m1[39m[33m,[39m 
nombre[33m:[39m 
[32m'Ingenier├¡a'[39m 
})[33m;[39m
     [90m 57 |[39m     
})[33m;[39m
     [90m 58 |[39m[0m

      at Object.<anonymous> (src/
tests/routes/facultades.routes.te
st.js:55:28)

  ÔùÅ Facultades Routes ÔÇ║ GET 
/facultades/:id devuelve 404 si 
no existe

    
expect(received).toBe(expected) 
// Object.is equality

    Expected: 404
    Received: 500

    [0m [90m 61 |[39m
     [90m 62 |[39m         
[36mconst[39m res [33m=[39m 
[36mawait[39m request(app)[33m
.[39m[36mget[39m([32m'/facult
ades/99'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 63 
|[39m         expect(res[33m.[
39mstatus)[33m.[39mtoBe([35m40
4[39m)[33m;[39m
     [90m    |[39m             
               
[31m[1m^[22m[39m
     [90m 64 |[39m     
})[33m;[39m
     [90m 65 |[39m
     [90m 66 |[39m     [90m// 
POST /[39m[0m

      at Object.<anonymous> (src/
tests/routes/facultades.routes.te
st.js:63:28)

  ÔùÅ Facultades Routes ÔÇ║ POST 
/facultades crea facultad valida

    
expect(received).toBe(expected) 
// Object.is equality

    Expected: 201
    Received: 500

    [0m [90m 70 |[39m
     [90m 71 |[39m         
[36mconst[39m res [33m=[39m 
[36mawait[39m request(app)[33m
.[39mpost([32m'/facultades'[39
m)[33m.[39msend({ 
nombre[33m:[39m 
[32m'Ingenier├¡a'[39m 
})[33m;[39m
    [31m[1m>[22m[39m[90m 72 
|[39m         expect(res[33m.[
39mstatus)[33m.[39mtoBe([35m20
1[39m)[33m;[39m
     [90m    |[39m             
               
[31m[1m^[22m[39m
     [90m 73 |[39m         expe
ct(res[33m.[39mbody)[33m.[39m
toEqual({ id[33m:[39m 
[35m1[39m[33m,[39m 
nombre[33m:[39m 
[32m'Ingenier├¡a'[39m 
})[33m;[39m
     [90m 74 |[39m     
})[33m;[39m
     [90m 75 |[39m[0m

      at Object.<anonymous> (src/
tests/routes/facultades.routes.te
st.js:72:28)

  ÔùÅ Facultades Routes ÔÇ║ POST 
/facultades falla si nombre 
duplicado

    
expect(received).toBe(expected) 
// Object.is equality

    Expected: 409
    Received: 500

    [0m [90m 83 |[39m
     [90m 84 |[39m         
[36mconst[39m res [33m=[39m 
[36mawait[39m request(app)[33m
.[39mpost([32m'/facultades'[39
m)[33m.[39msend({ 
nombre[33m:[39m 
[32m'Ingenier├¡a'[39m 
})[33m;[39m
    [31m[1m>[22m[39m[90m 85 
|[39m         expect(res[33m.[
39mstatus)[33m.[39mtoBe([35m40
9[39m)[33m;[39m
     [90m    |[39m             
               
[31m[1m^[22m[39m
     [90m 86 |[39m         expe
ct(res[33m.[39mbody[33m.[39me
rror)[33m.[39mtoMatch([35m/Ya 
existe una facultad con ese 
nombre/[39m)[33m;[39m
     [90m 87 |[39m     
})[33m;[39m
     [90m 88 |[39m[0m

      at Object.<anonymous> (src/
tests/routes/facultades.routes.te
st.js:85:28)

  ÔùÅ Facultades Routes ÔÇ║ PUT 
/facultades/:id actualiza 
correcto

    TypeError: Cannot read 
properties of undefined (reading 
'put')

    [0m [90m 107 |[39m
     [90m 108 |[39m         
[36mconst[39m res [33m=[39m 
[36mawait[39m request(app)[33m
.[39mtestUnknown [90m// typo 
in thought, strictly writing 
code below[39m
    [31m[1m>[22m[39m[90m 
109 |[39m             [33m.[39
mput([32m'/facultades/1'[39m)
     [90m     |[39m            
 [31m[1m^[22m[39m
     [90m 110 |[39m            
 [33m.[39msend({ 
nombre[33m:[39m 
[32m'Medicina'[39m 
})[33m;[39m
     [90m 111 |[39m
     [90m 112 |[39m         exp
ect(res[33m.[39mstatus)[33m.[
39mtoBe([35m200[39m)[33m;[39m
[0m

      at Object.<anonymous> (src/
tests/routes/facultades.routes.te
st.js:109:13)

  ÔùÅ Facultades Routes ÔÇ║ 
DELETE /facultades/:id elimina 
correcto

    
expect(received).toBe(expected) 
// Object.is equality

    Expected: 204
    Received: 500

    [0m [90m 119 |[39m
     [90m 120 |[39m         
[36mconst[39m res [33m=[39m 
[36mawait[39m request(app)[33m
.[39m[36mdelete[39m([32m'/fac
ultades/1'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 
121 |[39m         expect(res[33
m.[39mstatus)[33m.[39mtoBe([3
5m204[39m)[33m;[39m
     [90m     |[39m            
                
[31m[1m^[22m[39m
     [90m 122 |[39m     
})[33m;[39m
     [90m 123 |[39m
     [90m 124 |[39m     
test([32m'DELETE 
/facultades/:id 404 si no 
existe'[39m[33m,[39m 
[36masync[39m () [33m=>[39m 
{[0m

      at Object.<anonymous> (src/
tests/routes/facultades.routes.te
st.js:121:28)

  ÔùÅ Facultades Routes ÔÇ║ 
DELETE /facultades/:id 404 si no 
existe

    
expect(received).toBe(expected) 
// Object.is equality

    Expected: 404
    Received: 500

    [0m [90m 126 |[39m
     [90m 127 |[39m         
[36mconst[39m res [33m=[39m 
[36mawait[39m request(app)[33m
.[39m[36mdelete[39m([32m'/fac
ultades/99'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 
128 |[39m         expect(res[33
m.[39mstatus)[33m.[39mtoBe([3
5m404[39m)[33m;[39m
     [90m     |[39m            
                
[31m[1m^[22m[39m
     [90m 129 |[39m     
})[33m;[39m
     [90m 130 |[39m 
})[33m;[39m
     [90m 131 |[39m[0m

      at Object.<anonymous> (src/
tests/routes/facultades.routes.te
st.js:128:28)

Test Suites: 1 failed, 1 total
Tests:       8 failed, 1 passed, 
9 total
Snapshots:   0 total
Time:        1.051 s
Ran all test suites matching src/
tests/routes/facultades.routes.te
st.js.
